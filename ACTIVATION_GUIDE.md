# ๐ ุฏููู ุงูุชูุนูู ุงูุณุฑูุน ูู BrandMind AI

<div dir="rtl">

## ูููุณุชุฎุฏููู ุงูุฌุฏุฏ: ููููุฉ ุงูุจุฏุก

### 1๏ธโฃ ุงูุชุณุฌูู ูู ุงูููุตุฉ

1. **ุงูุชุญ ุงูููุตุฉ**: https://brandmind-ai.pages.dev
2. **ุงุถุบุท "ุฅูุดุงุก ุญุณุงุจ"**
3. **ุงููุฃ ุงูุจูุงูุงุช**:
   - ุงูุงุณู ุงููุงูู
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ูููุฉ ูุฑูุฑ ูููุฉ (8 ุฃุญุฑูุ ุฃุฑูุงูุ ุฃุญุฑู ูุจูุฑุฉ ูุตุบูุฑุฉ)
   - **Telegram Username** (ููู ุฌุฏุงู ููุชูุนูู!) ูุซุงู: @username
4. **ุงุถุบุท "ุฅูุดุงุก ุงูุญุณุงุจ"**

โ **ุณุชุญุตู ุนูู ุฑุณุงูุฉ**: "ุชู ุงูุชุณุฌูู ุจูุฌุงุญ! ูุฑุฌู ุงูุชุธุงุฑ ุชูุนูู ุญุณุงุจู"

---

### 2๏ธโฃ ุงูุชูุนูู ุนุจุฑ Telegram (ุฃุณุฑุน ุทุฑููุฉ)

#### ููุญุตูู ุนูู ุชูุนูู ููุฑู:

1. **ุฑุงุณู ุงูุจูุช ุนูู Telegram**: [@YourBrandMindBot](https://t.me/YOUR_TELEGRAM_BOT)
2. **ุฃุฑุณู ุฑุณุงูุฉ ุชุญุชูู ุนูู**:
   ```
   ุชูุนูู ุญุณุงุจ
   ุงูุจุฑูุฏ: your-email@example.com
   ุงูุจุงูุฉ ุงููุทููุจุฉ: [free/basic/pro/enterprise]
   ```

3. **ุงูุชุธุฑ ุงูุชูุนูู** (ุนุงุฏุฉ ุฎูุงู ุฏูุงุฆู)
4. **ุณุชุญุตู ุนูู ุฅุดุนุงุฑ** ุจุชูุนูู ุญุณุงุจู

---

### 3๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู

ุจุนุฏ ุงูุชูุนูู:

1. **ุงุฑุฌุน ููููุตุฉ** ูุณุฌู ุฏุฎูู ุจุจุฑูุฏู ููููุฉ ุงููุฑูุฑ
2. **ุณุชุญุตู ุนูู**:
   - Access Token ููุงุณุชุฎุฏุงู
   - API Key ููุชุทุจููุงุช ุงูุฎุงุฑุฌูุฉ
   - ููุญุฉ ุงูุชุญูู ุงูุฎุงุตุฉ ุจู

---

## ููุฃุฏูู: ููููุฉ ุชูุนูู ุงููุณุชุฎุฏููู

### โ ุงูุทุฑููุฉ ุงูุฃููู: ููุญุฉ ุงูุฃุฏูู (ููุตู ุจูุง)

#### ุงูุฎุทูุงุช:

1. **ุณุฌู ุฏุฎูู ูุฃุฏูู**:
   ```
   ุงูุจุฑูุฏ: admin@brandmind.ai
   ูููุฉ ุงููุฑูุฑ: Admin@123
   ```

2. **ุงูุชุญ ููุญุฉ ุงูุฃุฏูู**:
   - ุณุชุธูุฑ ุชููุงุฆูุงู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
   - ุฃู ุงุฐูุจ ูู: `/api/admin/dashboard`

3. **ุงุฎุชุฑ "ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู"** ุฃู ุงุฐูุจ ูุจุงุดุฑุฉ ูู:
   ```
   GET /api/admin/users
   ```

4. **ุงุจุญุซ ุนู ุงููุณุชุฎุฏู**:
   - ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ุฃู ุจุงุณู Telegram (@username)
   - ุงุณุชุฎุฏู filters: `?status=inactive&search=email@example.com`

5. **ุงุถุบุท "ุชูุนูู"** ุซู ุงููุฃ ุงููููุฐุฌ:
   - **ุงูุจุงูุฉ**: free/basic/pro/enterprise
   - **ุงููุฏุฉ**: 30 ููู (ุงูุชุฑุงุถู)
   - **ููุชุงุญ Perplexity** (ุงุฎุชูุงุฑู):
     - ุฅุฐุง ุฃุฏุฎูุช ููุชุงุญ: ุงููุณุชุฎุฏู ูุณุชุฎุฏู ููุชุงุญู ุงูุฎุงุต
     - ุฅุฐุง ุชุฑูุชู ูุงุฑุบ: ุงููุณุชุฎุฏู ูุณุชุฎุฏู Master Key
   - **ููุงุญุธุงุช**: ูุซู "ุชูุนูู ุนุจุฑ Telegram" ุฃู "ุนููู VIP"

6. **ุงุถุบุท "ุญูุธ"**

โ **ุชู ุงูุชูุนูู!** ุงููุณุชุฎุฏู ููููู ุชุณุฌูู ุงูุฏุฎูู ูุจุงุดุฑุฉ.

---

### โ ุงูุทุฑููุฉ ุงูุซุงููุฉ: API ูุจุงุดุฑ

ุฅุฐุง ุชูุถู ุงุณุชุฎุฏุงู API:

```bash
# 1. ุณุฌู ุฏุฎูู ูุฃุฏูู ูุฎุฐ Token
curl -X POST https://brandmind-ai.pages.dev/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@brandmind.ai",
    "password": "Admin@123"
  }'

# ุณูุนุทูู: access_token

# 2. ูุนูู ุงููุณุชุฎุฏู
curl -X POST https://brandmind-ai.pages.dev/api/admin/users/5/activate \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "plan": "pro",
    "duration_days": 30,
    "perplexity_api_key": "pplx-your-key-here",
    "notes": "Activated via API"
  }'
```

**Response:**
```json
{
  "success": true,
  "message": "ุชู ุชูุนูู ุงููุณุชุฎุฏู Test User ุจูุฌุงุญ",
  "data": {
    "user_id": 5,
    "plan": "pro",
    "start_date": "2024-11-13T...",
    "end_date": "2024-12-13T...",
    "features": ["content_generation", "ai_chat", ...],
    "limits": { "max_posts": 500, ... }
  }
}
```

---

## ๐ ุฅุฏุงุฑุฉ ููุงุชูุญ Perplexity API

### Master Key (ููุฌููุน)

#### ุชุนููู ููุชุงุญ ุฑุฆูุณู ูุงุญุฏ ูููุธุงู:

```bash
# ุนุจุฑ Wrangler
npx wrangler d1 execute brandmind-production \
  --command="INSERT OR REPLACE INTO system_settings (key, value) 
             VALUES ('master_perplexity_key', 'pplx-your-master-key-here')"

# ุฃู ุนุจุฑ API Admin
curl -X PUT https://brandmind-ai.pages.dev/api/admin/settings \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "master_perplexity_key": "pplx-your-master-key-here"
  }'
```

โ **ุงูุขู ูู ุงููุณุชุฎุฏููู ุจุฏูู ููุงุชูุญ ุฎุงุตุฉ ุณูุณุชุฎุฏููู ูุฐุง ุงูููุชุงุญ**

---

### ููุงุชูุญ ูุฎุตุตุฉ ููู ูุณุชุฎุฏู

#### ูุฅุนุทุงุก ูุณุชุฎุฏู ููุชุงุญ ุฎุงุต ุจู:

```bash
curl -X PUT https://brandmind-ai.pages.dev/api/admin/users/5/perplexity-key \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "api_key": "pplx-user-specific-key"
  }'
```

**ูููุฒุงุช ุงูููุงุชูุญ ุงููุฎุตุตุฉ:**
- โ ุชุญูู ุฏููู ูู ุงุณุชุฎุฏุงู ูู ูุณุชุฎุฏู
- โ ูุตู Usage Limits
- โ ุฃูุงู ุฃุนูู (ุฅุฐุง ุชู ุงุฎุชุฑุงู ููุชุงุญ ูุงุญุฏ)
- โ ููุงุณุจ ููุนููุงุก Enterprise

---

### ุฃู ุทุฑููุฉ ุฃูุถูุ

| ุงูุญุงูุฉ | ุงูุทุฑููุฉ ุงูููุงุณุจุฉ |
|-------|-----------------|
| **ูุดุฑูุน ุชุฌุฑูุจู** | Master Key ูุงุญุฏ |
| **ุนููุงุก ูููููู (<10)** | Master Key |
| **ุนููุงุก ูุซูุฑูู** | ููุงุชูุญ ูุฎุตุตุฉ |
| **Enterprise** | ููุงุชูุญ ูุฎุตุตุฉ |
| **Usage Control ููู** | ููุงุชูุญ ูุฎุตุตุฉ |

---

## ๐ ููุญุฉ ุชุญูู ุงูุฃุฏูู - ุงูุฃูุณุงู

### 1. Dashboard (ุงูุฑุฆูุณูุฉ)

**ุงููุนูููุงุช ุงููุนุฑูุถุฉ:**
- ุฅุฌูุงูู ุงููุณุชุฎุฏููู
- ุงููุณุชุฎุฏููู ุงููุดุทูู
- ุจุงูุชุธุงุฑ ุงูุชูุนูู
- ุงูุงุดุชุฑุงูุงุช ุงููุดุทุฉ
- ุชูุฒูุน ุงูุจุงูุงุช
- ุฃุญุฏุซ ุงูุชุณุฌููุงุช

**Endpoint:**
```
GET /api/admin/dashboard
```

---

### 2. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู

**ุงููุธุงุฆู:**
- ุนุฑุถ ูุงุฆูุฉ ุงููุณุชุฎุฏููู
- ุงูุจุญุซ ูุงูููุชุฑุฉ
- ุงูุชูุนูู/ุงูุฅูุบุงุก
- ุชุนุฏูู ุงูุงุดุชุฑุงูุงุช
- ุชุนููู ููุงุชูุญ Perplexity
- ุฅุนุงุฏุฉ ุชูููุฏ API Keys

**Endpoints:**
```
GET    /api/admin/users                      # List all
GET    /api/admin/users/:id                  # Get details
POST   /api/admin/users/:id/activate         # Activate
POST   /api/admin/users/:id/deactivate       # Deactivate
PUT    /api/admin/users/:id/perplexity-key   # Set Perplexity key
PUT    /api/admin/users/:id/subscription     # Update plan
POST   /api/admin/users/:id/regenerate-api-key  # New API key
```

---

### 3. ุณุฌู ุงูุฅุฌุฑุงุกุงุช

**ุชุชุจุน ูู ุฅุฌุฑุงุก admin:**
- ูู ูุงู ุจุงูุฅุฌุฑุงุก
- ุนูู ูู ุชู ุงูุฅุฌุฑุงุก
- ููุน ุงูุฅุฌุฑุงุก (activate, deactivate, change_plan, etc.)
- ุงูุชูุงุตูู
- ุงูุชุงุฑูุฎ ูุงูููุช

**Endpoint:**
```
GET /api/admin/actions?page=1&limit=50
```

---

### 4. ุงูุฅุนุฏุงุฏุงุช

**ุฅุฏุงุฑุฉ:**
- Master Perplexity Key
- Telegram Bot Token
- Telegram Admin Chat ID
- Default Plan ูููุณุชุฎุฏููู ุงูุฌุฏุฏ
- Maintenance Mode
- Registration Enabled/Disabled

**Endpoints:**
```
GET  /api/admin/settings     # Get all
PUT  /api/admin/settings     # Update
```

---

## ๐ฏ Workflow ุงููุงูู: ูู ุงูุชุณุฌูู ููุงุณุชุฎุฏุงู

### ุณููุงุฑูู ูุงูู:

1. **ูุณุชุฎุฏู ุฌุฏูุฏ** ูุณุฌู:
   ```
   POST /api/auth/register
   {
     "email": "user@example.com",
     "password": "StrongPass@123",
     "name": "Ahmed Mohammed",
     "telegram_username": "@ahmed_m"
   }
   ```
   
2. **ูุญุตู ุนูู**:
   ```json
   {
     "success": true,
     "message": "ุชู ุงูุชุณุฌูู ุจูุฌุงุญ! ูุฑุฌู ุงูุชุธุงุฑ ุงูุชูุนูู",
     "data": {
       "user_id": 10,
       "status": "pending_activation"
     }
   }
   ```

3. **ุงููุณุชุฎุฏู ูุฑุงุณู** Telegram Bot:
   ```
   ุชูุนูู ุญุณุงุจ
   user@example.com
   ุงูุจุงูุฉ: pro
   ```

4. **ุงูุฃุฏูู ูุฑู** ุงูุฑุณุงูุฉ ูููุชุญ Admin Panel

5. **ุงูุฃุฏูู ูุจุญุซ** ุนู ุงููุณุชุฎุฏู:
   ```
   GET /api/admin/users?search=user@example.com
   ```

6. **ุงูุฃุฏูู ููุนูู** ุงูุญุณุงุจ:
   ```
   POST /api/admin/users/10/activate
   {
     "plan": "pro",
     "duration_days": 30,
     "perplexity_api_key": "pplx-pro-user-key",
     "notes": "Telegram activation - VIP customer"
   }
   ```

7. **ุงููุธุงู ูุฑุณู ุฅุดุนุงุฑ** ูููุณุชุฎุฏู (ูุณุชูุจูุงู ุนุจุฑ Telegram Bot)

8. **ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู**:
   ```
   POST /api/auth/login
   {
     "email": "user@example.com",
     "password": "StrongPass@123"
   }
   ```

9. **ูุญุตู ุนูู Tokens**:
   ```json
   {
     "success": true,
     "data": {
       "tokens": {
         "access_token": "eyJhbGc...",
         "refresh_token": "rt_10_abc..."
       },
       "subscription": {
         "plan": "pro",
         "status": "active",
         "end_date": "2024-12-13T..."
       }
     }
   }
   ```

10. **ูุจุฏุฃ ุงูุงุณุชุฎุฏุงู**:
    ```
    POST /api/content/generate/post
    {
      "topic": "ุนุฑุถ ุฑูุถุงู ุงูุฎุงุต",
      "platform": "instagram"
    }
    ```

---

## ๐ง Troubleshooting

### ูุดููุฉ: ุงููุณุชุฎุฏู ูุง ูุณุชุทูุน ุชุณุฌูู ุงูุฏุฎูู ุจุนุฏ ุงูุชูุนูู

**ุงูุญู:**
1. ุชุญูู ูู ุชูุนูู ุงูุญุณุงุจ:
   ```sql
   SELECT is_active FROM users WHERE email = 'user@example.com'
   ```
2. ูุฌุจ ุฃู ูููู `is_active = 1`
3. ุฅุฐุง ูุงู 0ุ ูุนูู ูุฏููุงู ุนุจุฑ API

---

### ูุดููุฉ: "ูุง ููุฌุฏ ููุชุงุญ Perplexity API ูุชุงุญ"

**ุงูุญู:**
1. ุชุญูู ูู Master Key:
   ```sql
   SELECT value FROM system_settings WHERE key = 'master_perplexity_key'
   ```
2. ุฅุฐุง ูุงุฑุบุ ุฃุถู ููุชุงุญ:
   ```bash
   npx wrangler d1 execute brandmind-production \
     --command="INSERT OR REPLACE INTO system_settings (key, value) 
                VALUES ('master_perplexity_key', 'your-key')"
   ```
3. ุฃู ุนููู ููุชุงุญ ูุฎุตุต ูููุณุชุฎุฏู

---

### ูุดููุฉ: Rate Limit Exceeded

**ุงูุณุจุจ:** ุงููุณุชุฎุฏู ุชุฌุงูุฒ ุญุฏ ุงูุทูุจุงุช ุงููููู

**ุงูุญุฏ ุงูุงูุชุฑุงุถู:**
- Free: 50 ุทูุจ/ููู
- Basic: 200 ุทูุจ/ููู
- Pro: 1,000 ุทูุจ/ููู
- Enterprise: 10,000 ุทูุจ/ููู

**ุงูุญู:**
1. ุงูุชุธุฑ reset (ููุชุตู ุงูููู UTC)
2. ุฃู ุชุฑููุฉ ุงูุจุงูุฉ

---

## ๐ ุงูุฏุนู ุงูููู

**ูููุณุงุนุฏุฉ:**
- Telegram: @YOUR_TELEGRAM_BOT
- Email: support@brandmind.ai
- GitHub Issues: https://github.com/belalalibb/brandmind-ai/issues

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2024-11-13  
**ุงูุฅุตุฏุงุฑ**: 1.0.0

</div>
