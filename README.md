# BrandMind AI - Ù…Ù†ØµØ© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„ ğŸš€

<div dir="rtl">

> **Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ø°ÙƒØ§Ø¡ ØªØ³ÙˆÙŠÙ‚ÙŠ Ø´Ø§Ù…Ù„ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©** - Ù…Ù†Ø§ÙØ³ Buffer Ùˆ HubSpot Ù„Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ø±Ø¨ÙŠ

</div>

## ğŸŒŸ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

BrandMind AI Ù‡ÙŠ Ù…Ù†ØµØ© ØªØ³ÙˆÙŠÙ‚ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ø±Ø¨ÙŠ. ØªÙˆÙØ± Ø§Ù„Ù…Ù†ØµØ© Ø­Ù„Ø§Ù‹ Ø´Ø§Ù…Ù„Ø§Ù‹ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø±Ù‚Ù…ÙŠØŒ Ù…Ù† Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª.

**ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ù…Ù‡Ù…Ø©:**
- **Live Demo**: https://3000-icb5pqhrr88qp0gucjfnp-0e616f0a.sandbox.novita.ai
- **GitHub Repository**: https://github.com/belalalibb/brandmind-ai
- **API Health Check**: https://3000-icb5pqhrr88qp0gucjfnp-0e616f0a.sandbox.novita.ai/api/health

---

## âœ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### ğŸ” Ù†Ø¸Ø§Ù… Ø£Ù…Ø§Ù† Ù…ØªÙ‚Ø¯Ù… (Enterprise-Grade Security)
- âœ… **JWT Authentication** Ù…Ø¹ Refresh Tokens
- âœ… **HMAC SHA-256** Ù„Ù„ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª
- âœ… **API Keys** Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©
- âœ… **Rate Limiting** Ø°ÙƒÙŠ Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø§Ù‚Ø©
- âœ… **RBAC** (Role-Based Access Control)
- âœ… **Session Management** Ù…Ø¹ Cloudflare KV
- âœ… **Password Hashing** Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… SHA-256

### ğŸ¯ Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

#### 1. Business Profiler (Ù…Ù„Ù Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ØªØ¬Ø§Ø±ÙŠ)
- Ø¥Ø¯Ø§Ø±Ø© Ù…Ù„ÙØ§Øª Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©
- Ø¯Ø¹Ù… Ø£Ù†ÙˆØ§Ø¹ Ù…ØªØ¹Ø¯Ø¯Ø©: Ù…Ø·Ø§Ø¹Ù…ØŒ Ø¹ÙŠØ§Ø¯Ø§ØªØŒ Ù…ØªØ§Ø¬Ø±ØŒ ØµØ§Ù„ÙˆÙ†Ø§ØªØŒ Ø¹Ø·ÙˆØ±
- ØªØ®ØµÙŠØµ brand voice Ùˆ target audience

#### 2. AI Content Generator (Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ)
- Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ØªÙˆÙ‰ ØªØ³ÙˆÙŠÙ‚ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… **Perplexity AI**
- Ø¯Ø¹Ù… Ù…Ù†ØµØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø© (Instagram, Facebook, Twitter, TikTok)
- Ø£Ù†Ù…Ø§Ø· Ù…Ø­ØªÙˆÙ‰ Ù…ØªÙ†ÙˆØ¹Ø© (text, image, video, carousel)
- ØªÙˆÙ„ÙŠØ¯ hashtags ØªÙ„Ù‚Ø§Ø¦ÙŠ

#### 3. Chat Assistant (Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø°ÙƒÙŠ)
- Ù…Ø³Ø§Ø¹Ø¯ AI Ù…Ø®ØµØµ Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚
- Ø°Ø§ÙƒØ±Ø© Ù…Ø­Ø§Ø¯Ø«Ø© context-aware
- Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª (Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)

#### 4. Smart Scheduler (Ø¬Ø¯ÙˆÙ„Ø© Ø°ÙƒÙŠØ©)
- Ø¬Ø¯ÙˆÙ„Ø© ÙˆÙ†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ø­ØªÙˆÙ‰
- Ø¯Ø¹Ù… multiple social accounts
- ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª

#### 5. Analytics Dashboard (ØªØ­Ù„ÙŠÙ„Ø§Øª Ø°ÙƒÙŠØ©)
- ØªØ­Ù„ÙŠÙ„ engagement metrics
- ØªÙ‚Ø§Ø±ÙŠØ± PDF Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ†Ø²ÙŠÙ„
- Ø±Ø¤Ù‰ ØªØ³ÙˆÙŠÙ‚ÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ

#### 6. Admin Dashboard (Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¯Ù…Ù†)
- **ØªÙØ¹ÙŠÙ„ ÙŠØ¯ÙˆÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ø¨Ø± Telegram**
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª ÙˆØ§Ù„Ø¨Ø§Ù‚Ø§Øª
- ØªØ¹ÙŠÙŠÙ† Ù…ÙØ§ØªÙŠØ­ Perplexity API Ù„ÙƒÙ„ Ù…Ø³ØªØ®Ø¯Ù…
- ØªØªØ¨Ø¹ Usage Logs
- Ø³Ø¬Ù„ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù†

---

## ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### Technology Stack

#### Backend
- **Framework**: Hono (Lightweight, Fast, Edge-first)
- **Runtime**: Cloudflare Workers (Edge Computing)
- **Database**: Cloudflare D1 (Distributed SQLite)
- **Cache/Sessions**: Cloudflare KV
- **AI Engine**: Perplexity AI API

#### Frontend
- **HTML5 + Tailwind CSS** (RTL Support)
- **Vanilla JavaScript** (No Framework Overhead)
- **Arabic First** (ØªØµÙ…ÙŠÙ… Ø¹Ø±Ø¨ÙŠ ÙƒØ§Ù…Ù„)

#### Security
- **JWT** with HMAC-SHA256 signing
- **Refresh Token** rotation
- **API Key** authentication
- **Rate Limiting** per subscription tier
- **CORS** configuration
- **Security Headers** (X-Frame-Options, CSP, etc.)

### Project Structure

```
brandmind-ai/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.tsx              # Main application entry
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.ts            # Authentication routes
â”‚   â”‚   â”œâ”€â”€ admin.ts           # Admin dashboard routes
â”‚   â”‚   â”œâ”€â”€ chat.ts            # AI chat routes
â”‚   â”‚   â””â”€â”€ content.ts         # Content generation routes
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ auth.ts            # Auth & authorization middleware
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ auth.ts            # Auth utilities (JWT, hashing)
â”‚   â”‚   â””â”€â”€ perplexity.ts      # Perplexity AI integration
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts           # TypeScript types
â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ 0001_initial_schema.sql  # Database schema
â”œâ”€â”€ public/                    # Static assets
â”œâ”€â”€ dist/                      # Build output
â”œâ”€â”€ wrangler.jsonc             # Cloudflare configuration
â”œâ”€â”€ package.json               # Dependencies
â”œâ”€â”€ tsconfig.json              # TypeScript config
â”œâ”€â”€ vite.config.ts             # Vite build config
â””â”€â”€ ecosystem.config.cjs       # PM2 configuration

```

---

## ğŸš€ Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§Ù„ØªØ´ØºÙŠÙ„

### Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

- Node.js 18+ 
- npm Ø£Ùˆ yarn
- Perplexity API Key
- Cloudflare Account (for production deployment)

### 1. Clone & Install

```bash
git clone https://github.com/belalalibb/brandmind-ai.git
cd brandmind-ai
npm install --legacy-peer-deps
```

### 2. Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©

```bash
# ØªØ·Ø¨ÙŠÙ‚ migrations
npm run db:migrate:local

# Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
npm run db:seed
```

### 3. Build Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
npm run build
```

### 4. ØªØ´ØºÙŠÙ„ Ù…Ø­Ù„ÙŠ (Development)

```bash
# Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… PM2 (Ù…ÙˆØµÙ‰ Ø¨Ù‡)
pm2 start ecosystem.config.cjs

# Ø£Ùˆ Ù…Ø¨Ø§Ø´Ø±Ø©
npm run dev:sandbox
```

### 5. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ´ØºÙŠÙ„

```bash
curl http://localhost:3000/api/health
```

**Expected Response:**
```json
{
  "success": true,
  "message": "BrandMind AI is running",
  "version": "1.0.0",
  "timestamp": "2024-11-13T..."
}
```

---

## ğŸ“‹ API Documentation

### Base URL
```
Development: http://localhost:3000/api
Production: https://brandmind-ai.pages.dev/api
```

### Authentication Headers
```http
Authorization: Bearer <jwt_token>
Content-Type: application/json
```

### Core Endpoints

#### ğŸ” Authentication

**POST /api/auth/register**
```json
{
  "email": "user@example.com",
  "password": "StrongPass@123",
  "name": "User Name",
  "telegram_username": "@username"
}
```

**POST /api/auth/login**
```json
{
  "email": "user@example.com",
  "password": "StrongPass@123"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "user": { "id": 1, "email": "...", "name": "...", "role": "user" },
    "tokens": {
      "access_token": "eyJhbGc...",
      "refresh_token": "rt_1_abc...",
      "expires_in": 3600
    },
    "subscription": {
      "plan": "free",
      "status": "inactive"
    }
  }
}
```

#### ğŸ‘‘ Admin Routes (Requires Admin Role)

**POST /api/admin/users/:id/activate**
```json
{
  "plan": "pro",
  "duration_days": 30,
  "perplexity_api_key": "pplx-xxx",
  "notes": "Activated via Telegram"
}
```

**GET /api/admin/dashboard**
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
- Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†
- Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„ÙØ¹Ø§Ù„Ø©
- Pending activations

**GET /api/admin/users**
- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ø¹ pagination
- Filters: status, search
- Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª

**PUT /api/admin/users/:id/perplexity-key**
```json
{
  "api_key": "pplx-new-key"
}
```

#### ğŸ’¬ Chat Routes

**POST /api/chat/message**
```json
{
  "message": "Ø³Ø§Ø¹Ø¯Ù†ÙŠ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…Ø­ØªÙˆÙ‰",
  "conversation_id": 1,
  "business_id": 1
}
```

**GET /api/chat/conversations**
- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª

**GET /api/chat/conversations/:id/messages**
- Ø±Ø³Ø§Ø¦Ù„ Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø­Ø¯Ø¯Ø©

#### âœ¨ Content Routes

**POST /api/content/generate/post**
```json
{
  "business_id": 1,
  "topic": "Ø¹Ø±Ø¶ Ø®Ø§Øµ Ù„Ù„Ø¹ÙŠØ¯",
  "platform": "instagram",
  "tone": "friendly",
  "save_as_draft": true
}
```

**POST /api/content/generate/ad**
```json
{
  "business_id": 1,
  "product_service": "Ù‚Ù‡ÙˆØ© Ø¹Ø±Ø¨ÙŠØ© ÙØ§Ø®Ø±Ø©",
  "target_audience": "Ø¹Ø´Ø§Ù‚ Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
  "goal": "Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª"
}
```

**POST /api/content/ideas**
```json
{
  "business_id": 1,
  "count": 10
}
```

---

## ğŸ’³ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±

| Ø§Ù„Ø¨Ø§Ù‚Ø© | Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø´Ù‡Ø±ÙŠ | Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª | Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª | API Calls/Day | Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª |
|--------|--------------|-----------|----------|---------------|----------|
| **Ù…Ø¬Ø§Ù†ÙŠ** | 0 Ø±.Ø³ | 10 | 1 | 50 | Ù…Ø­ØªÙˆÙ‰ AIØŒ Ù…Ø­Ø§Ø¯Ø«Ø§Øª |
| **Ø£Ø³Ø§Ø³ÙŠ** | 299 Ø±.Ø³ | 50 | 3 | 200 | + Ø¬Ø¯ÙˆÙ„Ø©ØŒ ØªØ­Ù„ÙŠÙ„Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© |
| **Ø§Ø­ØªØ±Ø§ÙÙŠ** | 599 Ø±.Ø³ | ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ | 10 | 1,000 | + ÙƒÙ„ Ø§Ù„Ù…Ù…ÙŠØ²Ø§ØªØŒ ØªÙ‚Ø§Ø±ÙŠØ± PDF |
| **Ù…Ø¤Ø³Ø³Ø§Øª** | 1,499 Ø±.Ø³ | ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ | ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ | 10,000 | + API Ù…Ø®ØµØµØŒ Ø¯Ø¹Ù… Ø£ÙˆÙ„ÙˆÙŠØ© |

---

## ğŸ”§ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù†

### ÙƒÙŠÙÙŠØ© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ø¨Ø± Telegram

1. **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ³Ø¬Ù„** ÙÙŠ Ø§Ù„Ù…Ù†ØµØ© ÙˆÙŠØ¶ÙŠÙ username Telegram
2. **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø§Ø³Ù„** Ø§Ù„Ø¨ÙˆØª Ø¹Ù„Ù‰ Telegram Ù…Ø¹ Ø¨Ø±ÙŠØ¯Ù‡ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
3. **Ø§Ù„Ø£Ø¯Ù…Ù† ÙŠØ¯Ø®Ù„** Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… `/api/admin/users`
4. **ÙŠØ¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…** Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ Telegram username
5. **ÙŠÙ†Ù‚Ø± "ØªÙØ¹ÙŠÙ„"** ÙˆÙŠØ®ØªØ§Ø±:
   - Ø§Ù„Ø¨Ø§Ù‚Ø© (free, basic, pro, enterprise)
   - Ù…Ø¯Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ (days)
   - Ù…ÙØªØ§Ø­ Perplexity API (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
6. **Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙÙˆØ±ÙŠ** - Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙ…ÙƒÙ†Ù‡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø±Ø©

### Ø¥Ø¯Ø§Ø±Ø© Ù…ÙØ§ØªÙŠØ­ Perplexity

#### Ø®ÙŠØ§Ø±Ø§Øª API Keys:

1. **Master Key** (ÙÙŠ system_settings):
   - Ù…ÙØªØ§Ø­ Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
   - ÙŠØ³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙØªØ§Ø­ Ø®Ø§Øµ

2. **User-Specific Keys**:
   - Ø§Ù„Ø£Ø¯Ù…Ù† ÙŠØ¹ÙŠÙ† Ù…ÙØªØ§Ø­ Ù„ÙƒÙ„ Ù…Ø³ØªØ®Ø¯Ù…
   - **Endpoint**: `PUT /api/admin/users/:id/perplexity-key`
   - ÙŠØªÙŠØ­ control ÙƒØ§Ù…Ù„ Ø¹Ù„Ù‰ usage

3. **ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙØ§ØªÙŠØ­**:
   ```bash
   # Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†
   PUT /api/admin/users/5/perplexity-key
   {
     "api_key": "pplx-new-key-here"
   }
   ```

---

## ğŸ”’ Ø§Ù„Ø£Ù…Ø§Ù†

### Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©

1. **JWT Authentication**
   - HMAC-SHA256 signing
   - 1-hour expiry
   - Secure token storage

2. **Refresh Tokens**
   - 30-day validity
   - Stored in Cloudflare KV
   - Rotation on refresh

3. **Password Security**
   - SHA-256 hashing
   - Strong password requirements
   - Minimum 8 characters, mixed case, numbers

4. **API Key System**
   - Unique key per user
   - `bm_live_` prefix
   - Regeneration on demand

5. **Rate Limiting**
   - Per-subscription limits
   - KV-based counting
   - Daily reset

6. **RBAC (Role-Based Access)**
   - user, admin, superadmin roles
   - Middleware-enforced
   - Route-level protection

7. **Security Headers**
   - X-Frame-Options: DENY
   - X-Content-Type-Options: nosniff
   - CSP, HSTS, etc.

---

## ğŸ“Š Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Main Tables

- **users**: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ø£Ù…Ø§Ù†
- **subscriptions**: Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª ÙˆØ§Ù„Ø¨Ø§Ù‚Ø§Øª
- **business_profiles**: Ù…Ù„ÙØ§Øª Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©
- **social_accounts**: Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§ Ø§Ù„Ù…Ø±Ø¨ÙˆØ·Ø©
- **content_posts**: Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´Ø£
- **chat_conversations & chat_messages**: Ù…Ø­Ø§Ø¯Ø«Ø§Øª AI
- **usage_logs**: ØªØªØ¨Ø¹ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
- **admin_actions**: Ø³Ø¬Ù„ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù†
- **system_settings**: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

### Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©

Ø¨Ø¹Ø¯ ØªØ´ØºÙŠÙ„ `npm run db:seed`ØŒ Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰:

**Admin User:**
- Email: `admin@brandmind.ai`
- Password: `Admin@123`
- Role: superadmin

**Test Users:**
- user1@example.com (Active, Pro plan)
- user2@example.com (Inactive, Free)
- user3@example.com (Active, Basic)

---

## ğŸŒ Deployment

### Cloudflare Pages (Production)

#### 1. Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```bash
# D1 Database
npx wrangler d1 create brandmind-production

# KV Namespace
npx wrangler kv:namespace create brandmind_KV
npx wrangler kv:namespace create brandmind_KV --preview
```

#### 2. ØªØ­Ø¯ÙŠØ« wrangler.jsonc

```jsonc
{
  "d1_databases": [{
    "binding": "DB",
    "database_name": "brandmind-production",
    "database_id": "YOUR_DATABASE_ID"  // Ù…Ù† output Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚
  }],
  "kv_namespaces": [{
    "binding": "KV",
    "id": "YOUR_KV_ID",
    "preview_id": "YOUR_KV_PREVIEW_ID"
  }]
}
```

#### 3. ØªØ·Ø¨ÙŠÙ‚ Migrations Ø¹Ù„Ù‰ Production

```bash
npm run db:migrate:prod
```

#### 4. Deploy

```bash
npm run deploy:prod
```

#### 5. Ø¥Ø¹Ø¯Ø§Ø¯ Environment Variables

```bash
# Ø¥Ø¶Ø§ÙØ© Master Perplexity Key
npx wrangler d1 execute brandmind-production \
  --command="INSERT OR REPLACE INTO system_settings (key, value) VALUES ('master_perplexity_key', 'your-key-here')"

# Telegram Bot Settings
npx wrangler d1 execute brandmind-production \
  --command="INSERT OR REPLACE INTO system_settings (key, value) VALUES ('telegram_bot_token', 'your-bot-token')"
```

---

## ğŸ§ª Testing

### Manual API Testing

```bash
# Health Check
curl http://localhost:3000/api/health

# Register
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"Test@123","name":"Test User"}'

# Login (inactive user will get error)
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"Test@123"}'

# Admin Login
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@brandmind.ai","password":"Admin@123"}'

# Get User Info (with token)
curl http://localhost:3000/api/auth/me \
  -H "Authorization: Bearer YOUR_TOKEN"

# Generate Content (with token)
curl -X POST http://localhost:3000/api/content/generate/post \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"business_id":1,"topic":"Ø¹Ø±Ø¶ Ø®Ø§Øµ","platform":"instagram"}'
```

---

## ğŸ“ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

### âœ… Ù…ÙƒØªÙ…Ù„

- [x] Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„ (JWT, Refresh Tokens)
- [x] Admin Dashboard Ù„Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙŠØ¯ÙˆÙŠ
- [x] Ø¥Ø¯Ø§Ø±Ø© Ù…ÙØ§ØªÙŠØ­ Perplexity
- [x] Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª (4 Ø¨Ø§Ù‚Ø§Øª)
- [x] Chat AI Integration
- [x] Content Generation
- [x] Database Schema & Migrations
- [x] Rate Limiting & Security
- [x] Arabic RTL Interface
- [x] PM2 Configuration

### ğŸš§ Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±

- [ ] Ø±Ø¨Ø· Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§ (OAuth)
  - Facebook/Instagram Business API
  - Twitter API v2
  - TikTok Business API
- [ ] Telegram Bot Ù„Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¢Ù„ÙŠ
- [ ] Payment Integration (Stripe/Paymob)
- [ ] Email Notifications
- [ ] Advanced Analytics Dashboard
- [ ] PDF Report Generation

### ğŸ’¡ Ø®Ø·Ø· Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©

- [ ] Mobile App (React Native)
- [ ] White-Label Solution
- [ ] Multi-language Support (English)
- [ ] AI Image Generation (DALL-E, Midjourney)
- [ ] Video Editing Tools
- [ ] Competitor Analysis
- [ ] Influencer Discovery

---

## ğŸ¤ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

Ù†Ø±Ø­Ø¨ Ø¨Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª! ÙŠØ±Ø¬Ù‰ Ù‚Ø±Ø§Ø¡Ø© [CONTRIBUTING.md](CONTRIBUTING.md) Ù„Ù„ØªÙØ§ØµÙŠÙ„.

### Ø·Ø±Ù‚ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©:

1. **Fork** Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
2. **Create** feature branch: `git checkout -b feature/amazing-feature`
3. **Commit** Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª: `git commit -m 'Add amazing feature'`
4. **Push** Ù„Ù„Ø¨ranch: `git push origin feature/amazing-feature`
5. **Ø§ÙØªØ­ Pull Request**

---

## ğŸ“„ Ø§Ù„ØªØ±Ø®ÙŠØµ

Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø±Ø®Øµ ØªØ­Øª MIT License - Ø§Ù†Ø¸Ø± [LICENSE](LICENSE) Ù„Ù„ØªÙØ§ØµÙŠÙ„.

---

## ğŸ“ Ø§Ù„ØªÙˆØ§ØµÙ„

**Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø¯Ø¹Ù…:**

- **Telegram**: @YOUR_TELEGRAM_BOT
- **Email**: support@brandmind.ai
- **GitHub Issues**: https://github.com/belalalibb/brandmind-ai/issues

---

## ğŸ™ Ø´ÙƒØ± Ø®Ø§Øµ

- **Cloudflare** - Ù„Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© Edge Computing
- **Hono** - Ù„Ù„ÙØ±ÙŠÙ… ÙˆØ±Ùƒ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆØ§Ù„Ø®ÙÙŠÙ
- **Perplexity AI** - Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
- **Tailwind CSS** - Ù„Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ù…ÙŠÙ„
- **Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø¹Ø±Ø¨ÙŠ** - Ù„Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„ØªØ´Ø¬ÙŠØ¹

---

<div align="center">

**ØµÙ†Ø¹ Ø¨Ù€ â¤ï¸ Ù„Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ø±Ø¨ÙŠ**

**BrandMind AI** Â© 2024

[â¬† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰](#brandmind-ai---Ù…Ù†ØµØ©-Ø§Ù„Ø°ÙƒØ§Ø¡-Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠ-Ø§Ù„Ø´Ø§Ù…Ù„-)

</div>
